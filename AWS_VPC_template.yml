AWSTemplateFormatVersion: 2010-09-09
Metadata:
  'AWS::CloudFormation::Designer':
    edef8a41-9c1d-46eb-a29f-a72f78c8446a:
      size:
        width: 2410
        height: 990
      position:
        x: -730
        'y': 270
      z: 0
      embeds:
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - 07334a8b-ada4-4dd4-9446-03492f68ccc4
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - c6c40432-a863-4b5f-a4d8-47dda49c861c
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - bddcbbc4-e9e0-4331-8e72-1dc59078f70a
        - ddb9de6a-2c82-43e8-ada5-952a3d976548
    358d871b-95d8-4e65-a91d-72e3ac445d68:
      size:
        width: 480
        height: 310
      position:
        x: -680
        'y': 310
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - a39ba498-9fa2-43a6-acce-96b0a1d8c1ef
    8d838283-135a-4538-b69d-ace7c475514f:
      size:
        width: 540
        height: 330
      position:
        x: -60
        'y': 300
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - 7175e9ff-d7e8-4e27-88d5-7d7fdb45a267
    0809b2eb-369c-41f0-bf53-bce737b7e7ae:
      size:
        width: 450
        height: 320
      position:
        x: 600
        'y': 310
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - dfe2e52d-3954-472c-ab08-fc189412c06f
    c6c40432-a863-4b5f-a4d8-47dda49c861c:
      size:
        width: 510
        height: 310
      position:
        x: -680
        'y': 790
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - 0f7d1ac0-b0b6-4fc4-9733-157b2d4530a0
    07334a8b-ada4-4dd4-9446-03492f68ccc4:
      size:
        width: 550
        height: 320
      position:
        x: -70
        'y': 780
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - 08676474-187a-4a28-a395-d086004e9213
    3c74a295-8a01-4b6f-9085-3791cb237828:
      size:
        width: 480
        height: 330
      position:
        x: 590
        'y': 800
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - a84478a6-0609-44dd-ad48-e324dbea40f3
    a39ba498-9fa2-43a6-acce-96b0a1d8c1ef:
      size:
        width: 60
        height: 60
      position:
        x: -300
        'y': 340
      z: 2
      parent: 358d871b-95d8-4e65-a91d-72e3ac445d68
      embeds: []
      isassociatedwith:
        - ddb9de6a-2c82-43e8-ada5-952a3d976548
      iscontainedinside:
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
      dependson:
        - 1f98040d-45ca-4703-9a6f-ad27365f092e
    7175e9ff-d7e8-4e27-88d5-7d7fdb45a267:
      size:
        width: 60
        height: 60
      position:
        x: -40
        'y': 330
      z: 2
      parent: 8d838283-135a-4538-b69d-ace7c475514f
      embeds: []
      isassociatedwith:
        - ddb9de6a-2c82-43e8-ada5-952a3d976548
      iscontainedinside:
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 8d838283-135a-4538-b69d-ace7c475514f
      dependson:
        - 1f98040d-45ca-4703-9a6f-ad27365f092e
    dfe2e52d-3954-472c-ab08-fc189412c06f:
      size:
        width: 60
        height: 60
      position:
        x: 620
        'y': 340
      z: 2
      parent: 0809b2eb-369c-41f0-bf53-bce737b7e7ae
      embeds: []
      isassociatedwith:
        - ddb9de6a-2c82-43e8-ada5-952a3d976548
      iscontainedinside:
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
      dependson:
        - 1f98040d-45ca-4703-9a6f-ad27365f092e
    ddb9de6a-2c82-43e8-ada5-952a3d976548:
      size:
        width: 60
        height: 60
      position:
        x: -160
        'y': 330
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds: []
      iscontainedinside:
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
    bddcbbc4-e9e0-4331-8e72-1dc59078f70a:
      size:
        width: 60
        height: 60
      position:
        x: -150
        'y': 710
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds: []
      iscontainedinside:
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
        - edef8a41-9c1d-46eb-a29f-a72f78c8446a
    f83697cd-122c-4f9b-9248-b6d3aef6d000:
      size:
        width: 60
        height: 60
      position:
        x: 1040
        'y': 210
      z: 0
      embeds: []
    12710065-cd43-4a73-bdeb-66f1a170730d:
      source:
        id: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      target:
        id: f83697cd-122c-4f9b-9248-b6d3aef6d000
      z: 0
    88232fe9-5945-4770-afc6-0b8ec5550b41:
      size:
        width: 410
        height: 310
      position:
        x: 1110
        'y': 330
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - 1f98040d-45ca-4703-9a6f-ad27365f092e
      dependson:
        - 0809b2eb-369c-41f0-bf53-bce737b7e7ae
        - 8d838283-135a-4538-b69d-ace7c475514f
        - 358d871b-95d8-4e65-a91d-72e3ac445d68
    1f98040d-45ca-4703-9a6f-ad27365f092e:
      size:
        width: 60
        height: 60
      position:
        x: 1142
        'y': 362
      z: 2
      parent: 88232fe9-5945-4770-afc6-0b8ec5550b41
      embeds: []
      iscontainedinside:
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
        - 88232fe9-5945-4770-afc6-0b8ec5550b41
      dependson:
        - f83697cd-122c-4f9b-9248-b6d3aef6d000
    4e4255f7-ce2c-4954-8a63-298b18122f15:
      size:
        width: 330
        height: 150
      position:
        x: 1173
        'y': 805
      z: 1
      parent: edef8a41-9c1d-46eb-a29f-a72f78c8446a
      embeds:
        - a6ed308e-77cd-4b76-8d28-7e5d4f09694a
      dependson:
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - 07334a8b-ada4-4dd4-9446-03492f68ccc4
    a6ed308e-77cd-4b76-8d28-7e5d4f09694a:
      size:
        width: 60
        height: 60
      position:
        x: 1186.0283545061206
        'y': 826.6465646478702
      z: 2
      parent: 4e4255f7-ce2c-4954-8a63-298b18122f15
      embeds: []
      iscontainedinside:
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
        - 4e4255f7-ce2c-4954-8a63-298b18122f15
    a84478a6-0609-44dd-ad48-e324dbea40f3:
      size:
        width: 60
        height: 60
      position:
        x: 607.0713960029902
        'y': 852.0639356757808
      z: 2
      parent: 3c74a295-8a01-4b6f-9085-3791cb237828
      embeds: []
      iscontainedinside:
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - 3c74a295-8a01-4b6f-9085-3791cb237828
      dependson:
        - 3c74a295-8a01-4b6f-9085-3791cb237828
        - a6ed308e-77cd-4b76-8d28-7e5d4f09694a
        - bddcbbc4-e9e0-4331-8e72-1dc59078f70a
    08676474-187a-4a28-a395-d086004e9213:
      size:
        width: 60
        height: 60
      position:
        x: -56.35272651039082
        'y': 824.24292408651
      z: 2
      parent: 07334a8b-ada4-4dd4-9446-03492f68ccc4
      embeds: []
      iscontainedinside:
        - 07334a8b-ada4-4dd4-9446-03492f68ccc4
        - 07334a8b-ada4-4dd4-9446-03492f68ccc4
        - 07334a8b-ada4-4dd4-9446-03492f68ccc4
        - 07334a8b-ada4-4dd4-9446-03492f68ccc4
      dependson:
        - a6ed308e-77cd-4b76-8d28-7e5d4f09694a
        - bddcbbc4-e9e0-4331-8e72-1dc59078f70a
    85156df1-c327-4402-88c4-a588589abc2c:
      source:
        id: a6ed308e-77cd-4b76-8d28-7e5d4f09694a
        selector: 'g:nth-child(1) g:nth-child(4) g:nth-child(5) circle:nth-child(1)     '
        port: 'AWS::DependencyLink-*'
      target:
        id: c6c40432-a863-4b5f-a4d8-47dda49c861c
      z: 4
    a9b2dc7e-f302-41c5-a412-24c5a31f0080:
      source:
        id: a6ed308e-77cd-4b76-8d28-7e5d4f09694a
        selector: 'g:nth-child(1) g:nth-child(4) g:nth-child(5) circle:nth-child(1)     '
        port: 'AWS::DependencyLink-*'
      target:
        id: c6c40432-a863-4b5f-a4d8-47dda49c861c
      z: 4
    0f7d1ac0-b0b6-4fc4-9733-157b2d4530a0:
      size:
        width: 60
        height: 60
      position:
        x: -326.4948238874965
        'y': 802.4067165874059
      z: 2
      parent: c6c40432-a863-4b5f-a4d8-47dda49c861c
      embeds: []
      iscontainedinside:
        - c6c40432-a863-4b5f-a4d8-47dda49c861c
        - c6c40432-a863-4b5f-a4d8-47dda49c861c
      dependson:
        - a6ed308e-77cd-4b76-8d28-7e5d4f09694a
        - bddcbbc4-e9e0-4331-8e72-1dc59078f70a
    f186442b-6d7e-4e3f-80b8-9740b4769baf:
      source:
        id: a84478a6-0609-44dd-ad48-e324dbea40f3
      target:
        id: a6ed308e-77cd-4b76-8d28-7e5d4f09694a
      z: 3
    9ff3f60e-ebe6-4ae5-a6d8-3be8b46def3e:
      source:
        id: 08676474-187a-4a28-a395-d086004e9213
      target:
        id: a6ed308e-77cd-4b76-8d28-7e5d4f09694a
      z: 4
    ae40809a-ab50-4649-a805-a926b9dfc9a1:
      source:
        id: 0f7d1ac0-b0b6-4fc4-9733-157b2d4530a0
      target:
        id: a6ed308e-77cd-4b76-8d28-7e5d4f09694a
      z: 5
    b9451d4c-74f7-45e6-ab70-f8a3f5286311:
      source:
        id: 0f7d1ac0-b0b6-4fc4-9733-157b2d4530a0
      target:
        id: bddcbbc4-e9e0-4331-8e72-1dc59078f70a
      z: 6
    75c9df4e-cf2a-4306-a817-eedcfdacb808:
      source:
        id: 08676474-187a-4a28-a395-d086004e9213
      target:
        id: bddcbbc4-e9e0-4331-8e72-1dc59078f70a
      z: 7
    9817f5e4-8bf7-4c7b-bf3d-c06066a440e6:
      source:
        id: a84478a6-0609-44dd-ad48-e324dbea40f3
      target:
        id: bddcbbc4-e9e0-4331-8e72-1dc59078f70a
      z: 8
Resources:
  myStackVpc:
    Type: 'AWS::EC2::VPC'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: edef8a41-9c1d-46eb-a29f-a72f78c8446a
  PublicSubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 358d871b-95d8-4e65-a91d-72e3ac445d68
  PublicSubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 8d838283-135a-4538-b69d-ace7c475514f
  PublicSubnet3:
    Type: 'AWS::EC2::Subnet'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 0809b2eb-369c-41f0-bf53-bce737b7e7ae
  PrivateSubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c6c40432-a863-4b5f-a4d8-47dda49c861c
  PrivateSubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 07334a8b-ada4-4dd4-9446-03492f68ccc4
  PrivateSubnet3:
    Type: 'AWS::EC2::Subnet'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 3c74a295-8a01-4b6f-9085-3791cb237828
  MyStackWebServer1:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
        - SubnetId: !Ref PublicSubnet1
      SecurityGroupIds:
        - !Ref MyStackPublicSG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: a39ba498-9fa2-43a6-acce-96b0a1d8c1ef
    DependsOn:
      - PublicRoute
  MyStackWebServer2:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
        - SubnetId: !Ref PublicSubnet2
      SecurityGroupIds:
        - !Ref MyStackPublicSG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 7175e9ff-d7e8-4e27-88d5-7d7fdb45a267
    DependsOn:
      - PublicRoute
  MyStackWebServer3:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
        - SubnetId: !Ref PublicSubnet3
      SecurityGroupIds:
        - !Ref MyStackPublicSG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: dfe2e52d-3954-472c-ab08-fc189412c06f
    DependsOn:
      - PublicRoute
  MyStackPublicSG:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref myStackVpc
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ddb9de6a-2c82-43e8-ada5-952a3d976548
  MyStackPrivateSG:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref myStackVpc
    Metadata:
      'AWS::CloudFormation::Designer':
        id: bddcbbc4-e9e0-4331-8e72-1dc59078f70a
  MyStackIG:
    Type: 'AWS::EC2::InternetGateway'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: f83697cd-122c-4f9b-9248-b6d3aef6d000
  MyStackIGAttachment:
    Type: 'AWS::EC2::VPCGatewayAttachment'
    Properties:
      InternetGatewayId: !Ref MyStackIG
      VpcId: !Ref myStackVpc
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 12710065-cd43-4a73-bdeb-66f1a170730d
  MyStackPublicRT:
    Type: 'AWS::EC2::RouteTable'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 88232fe9-5945-4770-afc6-0b8ec5550b41
    DependsOn:
      - PublicSubnet3
      - PublicSubnet2
      - PublicSubnet1
  PublicRoute:
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref MyStackPublicRT
      GatewayId: !Ref MyStackIG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 1f98040d-45ca-4703-9a6f-ad27365f092e
    DependsOn:
      - MyStackIG
  MyStackPrivateRT:
    Type: 'AWS::EC2::RouteTable'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 4e4255f7-ce2c-4954-8a63-298b18122f15
    DependsOn:
      - PrivateSubnet3
      - PrivateSubnet2
  PrivateRoute:
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref MyStackPrivateRT
    Metadata:
      'AWS::CloudFormation::Designer':
        id: a6ed308e-77cd-4b76-8d28-7e5d4f09694a
  MyStackDBS3:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PrivateSubnet3
        - SubnetId: !Ref PrivateSubnet3
        - SubnetId: !Ref PrivateSubnet3
        - SubnetId: !Ref PrivateSubnet3
        - SubnetId: !Ref PrivateSubnet3
    Metadata:
      'AWS::CloudFormation::Designer':
        id: a84478a6-0609-44dd-ad48-e324dbea40f3
    DependsOn:
      - PrivateSubnet3
      - PrivateRoute
      - MyStackPrivateSG
  MyStackDBS2:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PrivateSubnet2
        - SubnetId: !Ref PrivateSubnet2
        - SubnetId: !Ref PrivateSubnet2
        - SubnetId: !Ref PrivateSubnet2
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 08676474-187a-4a28-a395-d086004e9213
    DependsOn:
      - PrivateRoute
      - MyStackPrivateSG
  EC2IB70I:
    Type: 'AWS::EC2::Instance'
    Properties:
      NetworkInterfaces:
        - SubnetId: !Ref PrivateSubnet1
        - SubnetId: !Ref PrivateSubnet1
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 0f7d1ac0-b0b6-4fc4-9733-157b2d4530a0
    DependsOn:
      - PrivateRoute
      - MyStackPrivateSG
